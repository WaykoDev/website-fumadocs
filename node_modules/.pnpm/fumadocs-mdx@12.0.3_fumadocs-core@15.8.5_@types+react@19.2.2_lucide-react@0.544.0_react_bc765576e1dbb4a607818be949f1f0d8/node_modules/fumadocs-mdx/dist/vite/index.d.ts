import { Plugin } from 'vite';

declare function postInstall(configPath?: string, outDir?: string, addJsExtension?: boolean): Promise<void>;

interface PluginOptions {
    /**
     * Automatically generate index files for accessing files with `import.meta.glob`.
     *
     * @defaultValue true
     */
    generateIndexFile?: boolean | {
        out?: string;
        /**
         * add `.js` extensions to imports, needed for ESM without bundler resolution
         */
        addJsExtension?: boolean;
    };
    /**
     * @defaultValue source.config.ts
     */
    configPath?: string;
    /**
     * Update Vite config to fix module resolution of Fumadocs
     *
     * @defaultValue true
     */
    updateViteConfig?: boolean;
}

declare function mdx(config: Record<string, unknown>, options?: PluginOptions): Plugin;

export { type PluginOptions, mdx as default, postInstall };
